{"ast":null,"code":"import { initializeApp } from \"firebase/app\";\nimport { getStorage } from \"firebase/storage\";\nimport { getDownloadURL, ref, uploadBytesResumable } from \"firebase/storage\";\nimport { v4 } from \"uuid\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDfBhAMiVeEGR_79hy8WcOyOLAefCvTSlE\",\n  authDomain: \"womeninpoliticsforumsite.firebaseapp.com\",\n  projectId: \"womeninpoliticsforumsite\",\n  storageBucket: \"womeninpoliticsforumsite.appspot.com\",\n  messagingSenderId: \"304906877555\",\n  appId: \"1:304906877555:web:b79ecaf0327678847b0806\",\n  measurementId: \"G-W16E91HVYN\"\n};\nconst app = initializeApp(firebaseConfig);\nconst Storage = getStorage(app);\nexport const uploadImage = async fileToUpload => {\n  const task = firebase.Storage().ref(`wipf/images/${fileToUpload.name + v4()}`).put(fileToUpload);\n  task.then(snapshot => {\n    snapshot.ref.getDownloadURL().then(url => {\n      console.log(url);\n    }).catch(error => {\n      console.log(error);\n    });\n  });\n  // const fileRef = ref(Storage, );\n  // const uploadTask = uploadBytesResumable(fileRef, fileToUpload)\n  //     uploadTask.on(\"state_changed\", (snapshot) => {}, (error) => {\n  //         console.log(\"Error in image upload\", error)\n  //         return \"no file\";    \n  //     }, async ()=>{\n  //         await getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {\n  //             console.log(\"File available at: \", downloadURL);\n  //             return downloadURL;\n  //         });\n  //     })\n};","map":{"version":3,"names":["initializeApp","getStorage","getDownloadURL","ref","uploadBytesResumable","v4","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","Storage","uploadImage","fileToUpload","task","firebase","name","put","then","snapshot","url","console","log","catch","error"],"sources":["C:/xampp/htdocs/mysites/wipf/src/firestore/uploadImage.utils.js"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\r\nimport {getStorage} from \"firebase/storage\";\r\nimport {getDownloadURL, ref, uploadBytesResumable} from \"firebase/storage\";\r\nimport {v4} from \"uuid\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyDfBhAMiVeEGR_79hy8WcOyOLAefCvTSlE\",  \r\n    authDomain: \"womeninpoliticsforumsite.firebaseapp.com\",  \r\n    projectId: \"womeninpoliticsforumsite\",  \r\n    storageBucket: \"womeninpoliticsforumsite.appspot.com\",  \r\n    messagingSenderId: \"304906877555\",  \r\n    appId: \"1:304906877555:web:b79ecaf0327678847b0806\",  \r\n    measurementId: \"G-W16E91HVYN\"\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nconst Storage = getStorage(app);\r\n\r\nexport const uploadImage = async(fileToUpload) => {\r\n\r\n    const task = firebase.Storage().ref(`wipf/images/${fileToUpload.name + v4()}`).put(fileToUpload)\r\n    task.then((snapshot) => {\r\n        snapshot.ref.getDownloadURL()\r\n        .then((url) => {\r\n            console.log(url);\r\n        })\r\n        .catch((error) =>{\r\n            console.log(error);\r\n        })\r\n    })\r\n    // const fileRef = ref(Storage, );\r\n    // const uploadTask = uploadBytesResumable(fileRef, fileToUpload)\r\n    //     uploadTask.on(\"state_changed\", (snapshot) => {}, (error) => {\r\n    //         console.log(\"Error in image upload\", error)\r\n    //         return \"no file\";    \r\n    //     }, async ()=>{\r\n    //         await getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {\r\n    //             console.log(\"File available at: \", downloadURL);\r\n    //             return downloadURL;\r\n    //         });\r\n    //     })\r\n}\r\n\r\n"],"mappings":"AAAA,SAASA,aAAa,QAAQ,cAAc;AAC5C,SAAQC,UAAU,QAAO,kBAAkB;AAC3C,SAAQC,cAAc,EAAEC,GAAG,EAAEC,oBAAoB,QAAO,kBAAkB;AAC1E,SAAQC,EAAE,QAAO,MAAM;AAEvB,MAAMC,cAAc,GAAG;EACnBC,MAAM,EAAE,yCAAyC;EACjDC,UAAU,EAAE,0CAA0C;EACtDC,SAAS,EAAE,0BAA0B;EACrCC,aAAa,EAAE,sCAAsC;EACrDC,iBAAiB,EAAE,cAAc;EACjCC,KAAK,EAAE,2CAA2C;EAClDC,aAAa,EAAE;AACnB,CAAC;AAED,MAAMC,GAAG,GAAGd,aAAa,CAACM,cAAc,CAAC;AACzC,MAAMS,OAAO,GAAGd,UAAU,CAACa,GAAG,CAAC;AAE/B,OAAO,MAAME,WAAW,GAAG,MAAMC,YAAY,IAAK;EAE9C,MAAMC,IAAI,GAAGC,QAAQ,CAACJ,OAAO,EAAE,CAACZ,GAAG,CAAE,eAAcc,YAAY,CAACG,IAAI,GAAGf,EAAE,EAAG,EAAC,CAAC,CAACgB,GAAG,CAACJ,YAAY,CAAC;EAChGC,IAAI,CAACI,IAAI,CAAEC,QAAQ,IAAK;IACpBA,QAAQ,CAACpB,GAAG,CAACD,cAAc,EAAE,CAC5BoB,IAAI,CAAEE,GAAG,IAAK;MACXC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IACpB,CAAC,CAAC,CACDG,KAAK,CAAEC,KAAK,IAAI;MACbH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;IACtB,CAAC,CAAC;EACN,CAAC,CAAC;EACF;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}